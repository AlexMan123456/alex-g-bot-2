{"version":3,"sources":["../../../src/interaction-handlers/evalModalHandler/_format-eval-response.ts"],"sourcesContent":["import Type from \"@sapphire/type\";\nimport { ContainerBuilder, SeparatorSpacingSize } from \"discord.js\";\n\nexport interface EvalMetadata {\n  lineSpacing: number;\n  success: boolean;\n  showEnvironmentVariables: boolean;\n}\n\nfunction formatEvalResponse(\n  code: string,\n  output: any,\n  { lineSpacing, success, showEnvironmentVariables }: EvalMetadata,\n) {\n  return new ContainerBuilder()\n    .addTextDisplayComponents((builder) => {\n      return builder.setContent(`## Eval`);\n    })\n    .addSeparatorComponents((builder) => {\n      return builder.setSpacing(SeparatorSpacingSize.Large);\n    })\n    .addTextDisplayComponents((builder) => {\n      return builder.setContent(\"## Input\");\n    })\n    .addTextDisplayComponents((builder) => {\n      return builder.setContent(\"```js\\n\" + code + \"```\");\n    })\n    .addSeparatorComponents((builder) => {\n      return builder.setSpacing(SeparatorSpacingSize.Small);\n    })\n    .addTextDisplayComponents((builder) => {\n      return builder.setContent(\"## Output\");\n    })\n    .addTextDisplayComponents((builder) => {\n      return builder.setContent(\"```js\\n\" + JSON.stringify(output, null, lineSpacing) + \"```\");\n    })\n    .addSeparatorComponents((builder) => {\n      return builder.setSpacing(SeparatorSpacingSize.Small);\n    })\n    .addTextDisplayComponents((builder) => {\n      return builder.setContent(\n        `-# Output type: ${code.includes(\"process.env\") && !showEnvironmentVariables ? \"Rickroll\" : new Type(output)} | Line spacing: ${lineSpacing} | Show environment variables: ${showEnvironmentVariables}`,\n      );\n    })\n    .setAccentColor(success ? [0, 255, 0] : [255, 0, 0]);\n}\n\nexport default formatEvalResponse;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAiB;AACjB,qBAAuD;AAQvD,SAAS,mBACP,MACA,QACA,EAAE,aAAa,SAAS,yBAAyB,GACjD;AACA,SAAO,IAAI,gCAAiB,EACzB,yBAAyB,CAAC,YAAY;AACrC,WAAO,QAAQ,WAAW,SAAS;AAAA,EACrC,CAAC,EACA,uBAAuB,CAAC,YAAY;AACnC,WAAO,QAAQ,WAAW,oCAAqB,KAAK;AAAA,EACtD,CAAC,EACA,yBAAyB,CAAC,YAAY;AACrC,WAAO,QAAQ,WAAW,UAAU;AAAA,EACtC,CAAC,EACA,yBAAyB,CAAC,YAAY;AACrC,WAAO,QAAQ,WAAW,YAAY,OAAO,KAAK;AAAA,EACpD,CAAC,EACA,uBAAuB,CAAC,YAAY;AACnC,WAAO,QAAQ,WAAW,oCAAqB,KAAK;AAAA,EACtD,CAAC,EACA,yBAAyB,CAAC,YAAY;AACrC,WAAO,QAAQ,WAAW,WAAW;AAAA,EACvC,CAAC,EACA,yBAAyB,CAAC,YAAY;AACrC,WAAO,QAAQ,WAAW,YAAY,KAAK,UAAU,QAAQ,MAAM,WAAW,IAAI,KAAK;AAAA,EACzF,CAAC,EACA,uBAAuB,CAAC,YAAY;AACnC,WAAO,QAAQ,WAAW,oCAAqB,KAAK;AAAA,EACtD,CAAC,EACA,yBAAyB,CAAC,YAAY;AACrC,WAAO,QAAQ;AAAA,MACb,mBAAmB,KAAK,SAAS,aAAa,KAAK,CAAC,2BAA2B,aAAa,IAAI,YAAAA,QAAK,MAAM,CAAC,oBAAoB,WAAW,kCAAkC,wBAAwB;AAAA,IACvM;AAAA,EACF,CAAC,EACA,eAAe,UAAU,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;AACvD;AApCS;AAsCT,IAAO,+BAAQ;","names":["Type"]}